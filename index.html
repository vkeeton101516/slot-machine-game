<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devoted Deals Slots</title>
    <style>
        /* Existing CSS styles... */
    </style>
</head>
<body>
    <div class="header">Devoted Deals Slots</div>
    <div class="slot-container">
        <div class="slot-machine">
            <div class="slot" id="slot1"><img src="https://iili.io/2m5cdSp.jpg" alt="$5 Gift Card"></div>
            <div class="slot" id="slot2"><img src="https://iili.io/2m5ccib.jpg" alt="$10 Gift Card"></div>
            <div class="slot" id="slot3"><img src="https://iili.io/2m5lFrx.jpg" alt="$50 Gift Card"></div>
        </div>
        <button class="spin-button" onclick="spin()">Spin</button>
        <div class="result" id="result"></div>
        <div class="warning" id="warning"></div>
        <div class="winner-info" id="winnerInfo"></div>
    </div>

    <script>
        const confirmationNumbers = [
            "45875664", "58761232", "87653099", "14589736", "01589536",
            "25796864", "28658901", "02040587", "32158964", "38561515",
            "71456611", "82547125", "94585477", "05161983", "02262007",
            "09232009", "04586652", "17565211", "25893455", "24751855"
        ];
        let assignedNumbers = [];
        let spinsToday = 0;
        const maxSpinsPerDay = 50;
        const maxWinsPerWeek = 5;
        let winsThisWeek = 0;

        function spin() {
            if (spinsToday >= maxSpinsPerDay) {
                document.getElementById("warning").innerText = "You've reached your spin limit for today!";
                return;
            }
            spinsToday++;
            document.getElementById("warning").innerText = "";

            // Slot images (only $10 and $50 for slots 2 and 3)
            const slotImages = [
                "https://iili.io/2m5cdSp.jpg", // $5 Gift Card (only allowed in slot 1)
                "https://iili.io/2m5ccib.jpg", // $10 Gift Card (not a winner)
                "https://iili.io/2m5lFrx.jpg"  // $50 Gift Card (not a winner)
            ];
            
            // Set slot 1 to always show $5 Gift Card
            const randomImages = [
                slotImages[0], // $5 Gift Card in slot 1
                slotImages[Math.floor(Math.random() * 2) + 1], // Randomly either $10 or $50 in slot 2
                slotImages[Math.floor(Math.random() * 2) + 1]  // Randomly either $10 or $50 in slot 3
            ];

            // Spin animation
            document.getElementById("slot1").style.transform = "rotateX(3600deg)";
            document.getElementById("slot2").style.transform = "rotateX(3600deg)";
            document.getElementById("slot3").style.transform = "rotateX(3600deg)";

            setTimeout(() => {
                document.getElementById("slot1").style.transform = "rotateX(0deg)";
                document.getElementById("slot2").style.transform = "rotateX(0deg)";
                document.getElementById("slot3").style.transform = "rotateX(0deg)";
                document.getElementById("slot1").querySelector("img").src = randomImages[0];
                document.getElementById("slot2").querySelector("img").src = randomImages[1];
                document.getElementById("slot3").querySelector("img").src = randomImages[2];
            }, 1000);

            // Track weekly wins
            const today = new Date();
            const dayOfWeek = today.getDay();
            
            if (dayOfWeek === 0) { // Reset weekly wins on Sunday
                winsThisWeek = 0;
            }

            // Ensure max wins per week
            if (winsThisWeek < maxWinsPerWeek) {
                // Only allow a win for the $5 symbol in slot 1
                if (randomImages[0] === slotImages[0]) { // Only the $5 gift card can win
                    if (assignedNumbers.length < confirmationNumbers.length) {
                        const availableNumbers = confirmationNumbers.filter(num => !assignedNumbers.includes(num));
                        const assignedNumber = availableNumbers[0];
                        assignedNumbers.push(assignedNumber);
                        winsThisWeek++;
                        document.getElementById("result").innerText = "Congratulations! Your confirmation number: " + assignedNumber;
                    } else {
                        document.getElementById("warning").innerText = "No more confirmation numbers available.";
                    }
                }
            } else {
                document.getElementById("warning").innerText = "Max wins reached for this week!";
            }
        }
    </script>
</body>
</html>
